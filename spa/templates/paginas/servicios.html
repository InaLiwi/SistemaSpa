{% extends "base.html" %}
{% load static %}

{% block titulo %}Servicios - Spa Relax{% endblock %}

{% block contenido %}
<section class="services-hero text-white text-center py-5 mb-5">
    <div class="container">
        <h1 class="display-4">Nuestros Servicios</h1>
        <p class="lead">Descubre una experiencia de relajación única</p>
    </div>
</section>

<section class="container my-5">
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="form-group">
                <label for="fecha" class="form-label">Selecciona una fecha:</label>
                <input type="text" id="fecha" class="form-control" placeholder="Seleccionar fecha">
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label for="disponibilidad" class="form-label">Disponibilidad:</label>
                <select class="form-select" id="disponibilidad">
                    <option value="">Todos</option>
                    <option value="disponible">Disponible</option>
                    <option value="no_disponible">No Disponible</option>
                </select>
            </div>
        </div>
        <div class="col-md-4 d-flex align-items-end">
            <button class="btn btn-primary w-100" id="aplicar-filtros">
                <i class="fas fa-filter me-2"></i> Aplicar Filtros
            </button>
        </div>
    </div>

    <div id="servicios-lista" class="row g-4">
        <div class="col-md-4 servicio" data-disponibilidad="disponible" data-fecha="2024-12-01">
            <div class="card h-100 shadow-sm">
                <img src="{% static 'img/masaje-relajante.jpg' %}" class="card-img-top" alt="Masaje Relajante">
                <div class="card-body">
                    <h3 class="card-title">Masaje Relajante</h3>
                    <p class="card-text">Un masaje de cuerpo entero para aliviar el estrés y la tensión.</p>
                    <p class="card-text"><strong>Precio:</strong> $50 USD</p>
                    <p class="card-text"><strong>Fecha Disponible:</strong> 01 de diciembre, 2024</p>
                    <p class="card-text"><strong>Disponibilidad:</strong> <span class="badge badge-success">Disponible</span></p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="#" class="btn btn-outline-primary w-100">Reservar</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 servicio" data-disponibilidad="no_disponible" data-fecha="2024-12-02">
            <div class="card h-100 shadow-sm">
                <img src="{% static 'img/facial-hidratante.jpg' %}" class="card-img-top" alt="Facial Hidratante">
                <div class="card-body">
                    <h3 class="card-title">Facial Hidratante</h3>
                    <p class="card-text">Tratamiento facial para una piel suave e hidratada.</p>
                    <p class="card-text"><strong>Precio:</strong> $40 USD</p>
                    <p class="card-text"><strong>Fecha Disponible:</strong> 02 de diciembre, 2024</p>
                    <p class="card-text"><strong>Disponibilidad:</strong> <span class="badge badge-danger">No Disponible</span></p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="#" class="btn btn-outline-secondary w-100" disabled>No Disponible</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 servicio" data-disponibilidad="disponible" data-fecha="2024-12-03">
            <div class="card h-100 shadow-sm">
                <img src="{% static 'img/manicura-pedicura.jpg' %}" class="card-img-top" alt="Manicura y Pedicura">
                <div class="card-body">
                    <h3 class="card-title">Manicura y Pedicura</h3>
                    <p class="card-text">Relájate mientras cuidas de tus manos y pies.</p>
                    <p class="card-text"><strong>Precio:</strong> $30 USD</p>
                    <p class="card-text"><strong>Fecha Disponible:</strong> 03 de diciembre, 2024</p>
                    <p class="card-text"><strong>Disponibilidad:</strong> <span class="badge badge-success">Disponible</span></p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="#" class="btn btn-outline-primary w-100">Reservar</a>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script>
    $(document).ready(function() {
        $("#fecha").datepicker({
            dateFormat: "yy-mm-dd",
            changeMonth: true,
            changeYear: true,
            yearRange: "c-10:c+10",
            firstDay: 1,
            dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa"],
            monthNames: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"]
        });

        $('#aplicar-filtros').on('click', function() {
            var fechaSeleccionada = $('#fecha').val();
            var disponibilidadSeleccionada = $('#disponibilidad').val();

            $('.servicio').each(function() {
                var servicioFecha = $(this).data('fecha');
                var servicioDisponibilidad = $(this).data('disponibilidad');

                if ((fechaSeleccionada === '' || servicioFecha === fechaSeleccionada) && 
                    (disponibilidadSeleccionada === '' || servicioDisponibilidad === disponibilidadSeleccionada)) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        });
    });
</script>
{% endblock %}

